(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{192:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),e("p",[t._v("如果你的代码依赖于上文中的 JavaScript，你可能会在运行时得到错误：")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),e("p",[t._v("此外，由于 source map 基于长度编码，且对位置信息敏感，因此，大部分 source map 都会在编译时重新构建（如果你使用 source map）。")]),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),e("p",[t._v("如果你的公司有多个独立工作的团队，当有人决定尝试集成两个程序编写 app 时，则很可能存在命名冲突。")]),t._v(" "),t._m(20),t._v(" "),e("p",[t._v("我们希望提供更多代码分析工具。如果你提供调用链的依赖关系，这些将会变得简单。")]),t._v(" "),t._m(21),t._v(" "),e("p",[t._v("实际上这是运行时的随机错误 + 编译时间时间慢 + 难以理解的代码的结果。")]),t._v(" "),t._m(22),t._v(" "),e("p",[t._v("它并没有被 "),e("code",[t._v("tsconfig.json")]),t._v(" 支持："),e("a",{attrs:{href:"https://github.com/Microsoft/TypeScript/issues/2472#issuecomment-85330803",target:"_blank",rel:"noopener noreferrer"}},[t._v("Comment"),e("OutboundLink")],1),t._v("，你需要手动对文件排序。")]),t._v(" "),t._m(23),t._v(" "),e("p",[t._v("如果你想在另一个项目中重用存在隐式依赖关系的代码，如果没有错误提示，很难移植它。")]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._m(29),t._v(" "),t._m(30),e("p",[t._v("或者：")]),t._v(" "),t._m(31),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"谨慎使用-outfile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#谨慎使用-outfile","aria-hidden":"true"}},[this._v("#")]),this._v(" 谨慎使用 "),s("code",[this._v("--outFile")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("由于以下几点原因，你应该谨慎使用 "),s("code",[this._v("--outFile")]),this._v(" 选项：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("运行时的错误；")]),t._v(" "),e("li",[t._v("快速编译；")]),t._v(" "),e("li",[t._v("全局作用域；")]),t._v(" "),e("li",[t._v("难以分析；")]),t._v(" "),e("li",[t._v("难以扩展；")]),t._v(" "),e("li",[e("code",[t._v("_references")]),t._v("；")]),t._v(" "),e("li",[t._v("代码重用；")]),t._v(" "),e("li",[t._v("多目标；")]),t._v(" "),e("li",[t._v("单独编译；")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"运行时的错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行时的错误","aria-hidden":"true"}},[this._v("#")]),this._v(" 运行时的错误")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类的继承在运行时中断。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("有如下 "),s("code",[this._v("foo.ts")]),this._v("：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[this._v("class")]),this._v(" "),s("span",{attrs:{class:"token class-name"}},[this._v("Foo")]),this._v(" "),s("span",{attrs:{class:"token punctuation"}},[this._v("{")]),s("span",{attrs:{class:"token punctuation"}},[this._v("}")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以及 "),s("code",[this._v("bar.ts")]),this._v("：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("Bar")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("Foo")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果你没有按正确的顺序编译它（例如："),s("code",[this._v("tsc bar.ts foo.ts")]),this._v("），虽然它能够被编译成功，但是会在运行时抛出 "),s("code",[this._v("ReferenceError")]),this._v(" 的错误。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("模块拆分在运行时会失败。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("foo.ts")]),this._v("：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" App "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" foo "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token number"}},[t._v("123")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("bar.ts")]),this._v("：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" App "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bar "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" foo "),e("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{attrs:{class:"token number"}},[t._v("456")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("与上文中一致，当你没有用正确的顺序编译它，它会在运行时将 "),s("code",[this._v("NaN")]),this._v(" 赋值给 "),s("code",[this._v("bar")]),this._v("；")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"快速编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速编译","aria-hidden":"true"}},[this._v("#")]),this._v(" 快速编译")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("如果你使用 "),e("code",[t._v("--out")]),t._v(" 编译选项，而没有使用一些 "),e("code",[t._v("hacks")]),t._v(" 时，单独的 "),e("code",[t._v(".ts")]),t._v(" 文件是不会被编译成单独的 "),e("code",[t._v(".js")]),t._v(" 文件。 "),e("code",[t._v("--out")]),t._v(" 选项实际上使用了较慢的构建方式。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"全局作用域"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局作用域","aria-hidden":"true"}},[this._v("#")]),this._v(" 全局作用域")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("当然，你可以使用命名空间，但是它仍然在 "),s("code",[this._v("window")]),this._v(" 上（如果你在浏览器中打开），命名空间仅仅是一个临时的解决方式。"),s("code",[this._v("///<reference")]),this._v(" 也不例外，它会引入一个难以维护的全局上下文。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"难以分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#难以分析","aria-hidden":"true"}},[this._v("#")]),this._v(" 难以分析")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"难以扩展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#难以扩展","aria-hidden":"true"}},[this._v("#")]),this._v(" 难以扩展")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"references-ts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#references-ts","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("_references.ts")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"代码重用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码重用","aria-hidden":"true"}},[this._v("#")]),this._v(" 代码重用")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"多目标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多目标","aria-hidden":"true"}},[this._v("#")]),this._v(" 多目标")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果你想在 nodejs 之类的环境下重用在浏览器中的代码（如：testing APIS），你将不得不将其转换到新的模块系统或者使用不好的 "),s("code",[this._v("hacks")]),this._v("，让 nodejs 的 "),s("code",[this._v("global")]),this._v(" 成为你的新的全局变量（如："),s("code",[this._v("window")]),this._v("）。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"单独编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单独编译","aria-hidden":"true"}},[this._v("#")]),this._v(" 单独编译")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("文件无法被单独编译，如 "),s("code",[this._v("a.ts")]),this._v("：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),e("span",{attrs:{class:"token constant"}},[t._v("M")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" s "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" t"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("根据不同的 "),s("code",[this._v("b.ts")]),this._v(" 的形式，它将有不同的输出：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),e("span",{attrs:{class:"token constant"}},[t._v("M")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" t "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token number"}},[t._v("5")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[this._v("var")]),this._v(" t "),s("span",{attrs:{class:"token operator"}},[this._v("=")]),this._v(" "),s("span",{attrs:{class:"token number"}},[this._v("5")]),s("span",{attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("因此 "),s("code",[this._v("a.ts")]),this._v(" 不能被单独编译;")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 总结")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("--out")]),this._v(" 做的是一些构建工具的工作，这些构建工具也可以受益于外部模块所提供的依赖，因此如果你愿意，我们推荐你使用外部模块，让构建工具创建单文件的 "),s("code",[this._v(".js")]),this._v("。")])}],!1,null,null,null);n.options.__file="outFileCaution.md";s.default=n.exports}}]);